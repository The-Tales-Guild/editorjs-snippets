/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Snippets=t():e.Snippets=t()}(self,(()=>(()=>{var e={580:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){"use strict";n(1),e.exports=function(){var e=n(6),t=null;return{show:function(n){if(n.message){!function(){if(t)return!0;t=e.getWrapper(),document.body.appendChild(t)}();var i=null,r=n.time||8e3;switch(n.type){case"confirm":i=e.confirm(n);break;case"prompt":i=e.prompt(n);break;default:i=e.alert(n),window.setTimeout((function(){i.remove()}),r)}t.appendChild(i),i.classList.add("cdx-notify--bounce-in")}}}}()},function(e,t,n){var i=n(2);"string"==typeof i&&(i=[[e.i,i,""]]);n(4)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(s).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var i,r,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,d=[],p=n(5);function u(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(y(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(y(i.parts[s],t));o[i.id]={id:i.id,refs:1,parts:a}}}}function h(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var s=l++;n=c||(c=m(t)),i=x.bind(null,n,s,!1),r=x.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=p(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=function(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return u(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var s=n[r];(a=o[s.id]).refs--,i.push(a)}for(e&&u(h(e,t),t),r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var b,S=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=S(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){"use strict";var i,r,o,s,a,c;e.exports=("cdx-notifies",i="cdx-notify",r="cdx-notify__cross",o="cdx-notify__button--confirm","cdx-notify__button--cancel","cdx-notify__input",s="cdx-notify__button",a="cdx-notify__btns-wrapper",{alert:c=function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),o=e.message,s=e.style;return t.classList.add(i),s&&t.classList.add(i+"--"+s),t.innerHTML=o,n.classList.add(r),n.addEventListener("click",t.remove.bind(t)),t.appendChild(n),t},confirm:function(e){var t=c(e),n=document.createElement("div"),i=document.createElement("button"),l=document.createElement("button"),d=t.querySelector("."+r),p=e.cancelHandler,u=e.okHandler;return n.classList.add(a),i.innerHTML=e.okText||"Confirm",l.innerHTML=e.cancelText||"Cancel",i.classList.add(s),l.classList.add(s),i.classList.add(o),l.classList.add("cdx-notify__button--cancel"),p&&"function"==typeof p&&(l.addEventListener("click",p),d.addEventListener("click",p)),u&&"function"==typeof u&&i.addEventListener("click",u),i.addEventListener("click",t.remove.bind(t)),l.addEventListener("click",t.remove.bind(t)),n.appendChild(i),n.appendChild(l),t.appendChild(n),t},prompt:function(e){var t=c(e),n=document.createElement("div"),i=document.createElement("button"),l=document.createElement("input"),d=t.querySelector("."+r),p=e.cancelHandler,u=e.okHandler;return n.classList.add(a),i.innerHTML=e.okText||"Ok",i.classList.add(s),i.classList.add(o),l.classList.add("cdx-notify__input"),e.placeholder&&l.setAttribute("placeholder",e.placeholder),e.default&&(l.value=e.default),e.inputType&&(l.type=e.inputType),p&&"function"==typeof p&&d.addEventListener("click",p),u&&"function"==typeof u&&i.addEventListener("click",(function(){u(l.value)})),i.addEventListener("click",t.remove.bind(t)),n.appendChild(l),n.appendChild(i),t.appendChild(n),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add("cdx-notifies"),e}})}])},237:e=>{e.exports='<?xml version="1.0" ?><svg id="Icons" style="enable-background:new 0 0 32 32;" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">\n\t.st0{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style><path d="M14,23c0-5.5,4.5-10,10-10c1.2,0,2.3,0.2,3.3,0.6l2.9-4.4c0.4-0.6,0.6-1.2,0.7-1.9C31,7.2,31,7.1,31,7c0-0.1,0-0.1,0-0.2  c0-0.8-0.1-1.5-0.4-2.3c-0.7-1.4-2-2.4-3.5-2.6c-0.2,0-0.4,0-0.6,0c-0.1,0-0.1,0-0.2,0c-0.1,0-0.2,0-0.3,0c0,0,0,0,0,0c0,0,0,0,0,0  H9.5C9.4,2,9.3,2,9.2,2.1C9.2,2,9.1,2,9,2C6.2,2,4,4.2,4,7c0,0.7,0.2,1.3,0.6,1.9C5.4,10.2,6.8,11,8.4,11h1.2L1.8,22.8  c-0.9,1.4-1,3.1-0.3,4.6c0.7,1.4,2,2.4,3.5,2.6c0.2,0,0.4,0,0.6,0h11.4C15.1,28.2,14,25.7,14,23z M8.4,9C7.5,9,6.7,8.6,6.3,7.9  C6.1,7.6,6,7.3,6,7c0-1.7,1.3-3,3-3c0.1,0,0.2,0,0.2-0.1C9.3,4,9.4,4,9.5,4h12.7c-1.7,2.2-1,4.2-0.6,5c0,0,0,0,0,0H8.4z"/><path d="M24,15c-4.4,0-8,3.6-8,8s3.6,8,8,8s8-3.6,8-8S28.4,15,24,15z M27,24h-2v2c0,0.6-0.4,1-1,1s-1-0.4-1-1v-2h-2  c-0.6,0-1-0.4-1-1s0.4-1,1-1h2v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2h2c0.6,0,1,0.4,1,1S27.6,24,27,24z"/></svg>'},226:e=>{e.exports='<?xml version="1.0" ?><svg id="Icons" style="enable-background:new 0 0 32 32;" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">\n\t.st0{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style><path d="M14,23c0-5.5,4.5-10,10-10c1.2,0,2.3,0.2,3.3,0.6l2.9-4.4c0.4-0.6,0.6-1.2,0.7-1.9C31,7.2,31,7.1,31,7c0-0.1,0-0.1,0-0.2  c0-0.8-0.1-1.5-0.4-2.3c-0.7-1.4-2-2.4-3.5-2.6c-0.2,0-0.4,0-0.6,0c-0.1,0-0.1,0-0.2,0c-0.1,0-0.2,0-0.3,0c0,0,0,0,0,0c0,0,0,0,0,0  H9.5C9.4,2,9.3,2,9.2,2.1C9.2,2,9.1,2,9,2C6.2,2,4,4.2,4,7c0,0.7,0.2,1.3,0.6,1.9C5.4,10.2,6.8,11,8.4,11h1.2L1.8,22.8  c-0.9,1.4-1,3.1-0.3,4.6c0.7,1.4,2,2.4,3.5,2.6c0.2,0,0.4,0,0.6,0h11.4C15.1,28.2,14,25.7,14,23z M8.4,9C7.5,9,6.7,8.6,6.3,7.9  C6.1,7.6,6,7.3,6,7c0-1.7,1.3-3,3-3c0.1,0,0.2,0,0.2-0.1C9.3,4,9.4,4,9.5,4h12.7c-1.7,2.2-1,4.2-0.6,5c0,0,0,0,0,0H8.4z"/><path d="M24,15c-4.4,0-8,3.6-8,8s3.6,8,8,8s8-3.6,8-8S28.4,15,24,15z M27,24h-6c-0.6,0-1-0.4-1-1s0.4-1,1-1h6c0.6,0,1,0.4,1,1  S27.6,24,27,24z"/></svg>'}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";n.d(i,{default:()=>u});var e=n(580),t=n.n(e);class r{static isNumber(e){return"number"==typeof e}static isArray(e){return Array.isArray(e)}static isUrl(e){return/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(e)}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);for(var r in Array.isArray(t)?i.classList.add(...t):t&&i.classList.add(t),n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i}function s(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}class a{constructor(){this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get anchorNode(){var e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){var e=window.getSelection();if(!e)return null;var t,n=e.anchorNode;return n?(t=n,!r.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE?n:n.parentElement):null}static get anchorOffset(){var e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){var e=window.getSelection();return e?e.isCollapsed:null}static get isSelectionExists(){return!!a.get().anchorNode}static get range(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){var e,t=document.selection,n={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),n.x=e.boundingLeft,n.y=e.boundingTop,n.width=e.boundingWidth,n.height=e.boundingHeight,n;if(!window.getSelection)return console.warn("Method window.getSelection is not supported"),n;if(null===(t=window.getSelection()).rangeCount||isNaN(t.rangeCount))return console.warn("Method SelectionUtils.rangeCount is not supported"),n;if(0===t.rangeCount)return n;if((e=t.getRangeAt(0).cloneRange()).getBoundingClientRect&&(n=e.getBoundingClientRect()),0===n.x&&0===n.y){var i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("â€‹")),e.insertNode(i),n=i.getBoundingClientRect();var r=i.parentNode;r.removeChild(i),r.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createRange(),i=window.getSelection();if(s(e)){if(!function(e){var t=!0;if(s(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t="true"===e.contentEditable;return t}(e))return;return e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()}return n.setStart(e,t),n.setEnd(e,t),i.removeAllRanges(),i.addRange(n),n.getBoundingClientRect()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){var e=getComputedStyle(document.body).getPropertyValue("--script-selected-color")||"#a8d6ff";document.execCommand(this.commandBackground,!1,e),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=a.range}restore(){if(this.savedSelectionRange){var e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=window.getSelection(),r=null;return i&&i.anchorNode&&i.focusNode?([i.anchorNode,i.focusNode].forEach((i=>{for(var o=n;o>0&&i.parentNode&&(i.tagName!==e||(r=i,t&&i.classList&&!i.classList.contains(t)&&(r=null),!r));)i=i.parentNode,o--})),r):null}expandToTag(e){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}}function c(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){c(o,i,r,s,a,"next",e)}function a(e){c(o,i,r,s,a,"throw",e)}s(void 0)}))}}var d="Cannot process search request because of",p="Next";class u{static get isInline(){return!0}static get sanitize(){return{span:{class:!0,"data-name":!0,"data-description":!0,"data-category":!0,"data-origin":!0,"data-colorDot":!0}}}static get title(){return"Snippets"}get shortcut(){return"Ctrl+L"}static get CSS(){return{iconWrapper:"ts-snippets__icon-wrapper",hidden:"ts-snippets__hidden",actionsWrapper:"ts-snippets__actions-wrapper",field:"ts-snippets__field",fieldLoading:"ts-snippets__field--loading",fieldInput:"ts-snippets__field-input",foundItems:"ts-snippets__items",searchItem:"ts-snippets__search-item",searchItemSelected:"ts-snippets__search-item--selected",searchItemName:"ts-snippets__search-item-name",searchItemDescription:"ts-snippets__search-item-description",searchItemColorDot:"ts-snippets__search-item-color-dot",searchItemOrigin:"ts-snippets__search-item-origin",linkDataWrapper:"ts-snippets__link-data-wrapper",linkDataTitleWrapper:"ts-snippets__link-data-title-wrapper",linkDataName:"ts-snippets__link-data-name",linkDataDescription:"ts-snippets__link-data-description",linkDataURL:"ts-snippets__link-data-url"}}constructor(e){var{config:t,api:n}=e;this.api=n,this.config=t||{},this.selection=new a,this.filesToSearch=this.config.filesToSearch||[],this.nodes={toolButtons:null,toolButtonLink:null,toolButtonUnlink:null,actionsWrapper:null,inputWrapper:null,inputField:null,searchResults:null,linkDataWrapper:null,linkDataTitleWrapper:null,linkDataName:null,linkDataDescription:null,linkDataURL:null},this.tagName="SPAN",this.KEYS={ENTER:13,UP:38,DOWN:40},this.typingTimer=null}render(){return this.nodes.toolButtons=o("button",this.api.styles.inlineToolButton),this.nodes.toolButtonLink=o("span",u.CSS.iconWrapper,{innerHTML:n(237)}),this.nodes.toolButtons.appendChild(this.nodes.toolButtonLink),this.nodes.toolButtonUnlink=o("span",u.CSS.iconWrapper,{innerHTML:n(226)}),this.nodes.toolButtons.appendChild(this.nodes.toolButtonUnlink),this.toggleVisibility(this.nodes.toolButtonUnlink,!1),this.nodes.toolButtons}renderActions(){return this.nodes.actionsWrapper=o("div",[u.CSS.actionsWrapper]),this.toggleVisibility(this.nodes.actionsWrapper,!1),this.nodes.inputWrapper=o("div",u.CSS.field),this.nodes.inputField=o("input",u.CSS.fieldInput,{placeholder:this.api.i18n.t(this.isThereFilesToSearch?"Search a snippet":"There are no snippets available...")}),this.nodes.inputWrapper.appendChild(this.nodes.inputField),this.toggleVisibility(this.nodes.inputWrapper,!1),this.nodes.searchResults=o("div",u.CSS.foundItems),this.nodes.searchResults.addEventListener("mouseenter",(()=>{this.getSearchItems().forEach((e=>{e.classList.remove(u.CSS.searchItemSelected)}))})),this.nodes.searchResults.addEventListener("click",(e=>{var t=e.target.closest(".".concat(u.CSS.searchItem));t&&(e.preventDefault(),e.stopPropagation(),this.searchItemPressed(t))})),this.nodes.inputField.addEventListener("keydown",this.fieldKeydownHandler.bind(this)),this.nodes.inputField.addEventListener("input",this.fieldInputHandler.bind(this)),this.nodes.linkDataWrapper=o("div",u.CSS.linkDataWrapper),this.toggleVisibility(this.nodes.linkDataWrapper,!1),this.nodes.linkDataTitleWrapper=o("div",u.CSS.linkDataTitleWrapper),this.nodes.linkDataWrapper.appendChild(this.nodes.linkDataTitleWrapper),this.toggleVisibility(this.nodes.linkDataTitleWrapper,!1),this.nodes.linkDataName=o("div",u.CSS.linkDataName),this.nodes.linkDataTitleWrapper.appendChild(this.nodes.linkDataName),this.nodes.linkDataDescription=o("div",u.CSS.linkDataDescription),this.nodes.linkDataTitleWrapper.appendChild(this.nodes.linkDataDescription),this.nodes.linkDataURL=o("A",u.CSS.linkDataURL),this.nodes.linkDataWrapper.appendChild(this.nodes.linkDataURL),this.nodes.actionsWrapper.appendChild(this.nodes.inputWrapper),this.nodes.actionsWrapper.appendChild(this.nodes.searchResults),this.nodes.actionsWrapper.appendChild(this.nodes.linkDataWrapper),this.nodes.actionsWrapper}fieldKeydownHandler(e){var t=[this.KEYS.UP,this.KEYS.DOWN].includes(e.keyCode),n=this.KEYS.ENTER===e.keyCode;if(t||n)switch(e.preventDefault(),e.stopPropagation(),!0){case t:var i=e.keyCode===this.KEYS.DOWN?p:"Previous";this.navigate(i);break;case n:this.processEnterKeyPressed()}}fieldInputHandler(e){var n=this;clearTimeout(this.typingTimer);var i=e.target.value;i&&i.trim()?this.isThereFilesToSearch&&(this.typingTimer=setTimeout(l((function*(){n.toggleLoadingState(!0);try{var e=yield n.searchRequest(i);n.generateSearchList(e)}catch(e){t().show({message:"".concat(d,' "').concat(e.message,'"'),style:"error"})}n.toggleLoadingState(!1)})),250)):this.clearSearchList()}toggleLoadingState(e){this.nodes.inputWrapper.classList.toggle(u.CSS.fieldLoading,e)}navigate(e){var t=this.getSearchItems(),n=this.getSelectedItem();if(t.length){var i=e===p?1:-1,r=(n?t.indexOf(n):-1)+i;r>t.length-1?r=0:r<0&&(r=t.length-1),n&&n.classList.remove(u.CSS.searchItemSelected),t[r].classList.add(u.CSS.searchItemSelected)}}processEnterKeyPressed(){var e=this.getSelectedItem();if(e)this.searchItemPressed(e);else{var n=this.nodes.inputField.value;if(n&&n.trim()){var i=this.getSearchItems()[0];i&&i.dataset.index===n.toLowerCase()?this.searchItemPressed(i):t().show({message:"Incorrect snippet name",style:"error"})}}}getSearchItems(){var e=this.nodes.searchResults.querySelectorAll(".".concat(u.CSS.searchItem));return Array.from(e)}getSelectedItem(){return this.nodes.searchResults.querySelector(".".concat(u.CSS.searchItemSelected))}clearSearchList(){this.nodes.searchResults.innerHTML=""}generateSearchList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.clearSearchList(),r.isArray(e)){if(0!==e.length){var n=0;e.forEach((e=>{e.forEach((e=>{var t=o("div",[u.CSS.searchItem]),i=o("div",[u.CSS.searchItemName],{innerText:e[this.filesToSearch[n].nameToSave]||e.index});if(t.dataset.name=e[this.filesToSearch[n].nameToSave]?e[this.filesToSearch[n].nameToSave]:e.index,t.appendChild(i),e[this.filesToSearch[n].descriptionToSave]&&(t.dataset.description=e[this.filesToSearch[n].descriptionToSave]),this.filesToSearch[n].category){var r=o("div",[u.CSS.searchItemDescription],{innerHTML:this.filesToSearch[n].origin?this.filesToSearch[n].category+" -&nbsp;":this.filesToSearch[n].category+"&nbsp;"});if(this.filesToSearch[n].colorDot){var s=o("span",[u.CSS.searchItemColorDot]);s.style.backgroundColor=this.filesToSearch[n].colorDot,r.appendChild(s),t.dataset.colorDot=this.filesToSearch[n].colorDot}if(this.filesToSearch[n].origin){var a=o("span",[u.CSS.searchItemOrigin],{innerText:this.filesToSearch[n].origin});r.appendChild(a),t.dataset.origin=this.filesToSearch[n].origin}t.appendChild(r),t.dataset.category=this.filesToSearch[n].category}this.nodes.searchResults.appendChild(t)})),n++}))}}else t().show({message:"Server responded with invalid data",style:"error"})}searchItemPressed(e){e.dataset&&e.dataset.name&&(this.selection.restore(),this.selection.removeFakeBackground(),this.wrap(e.dataset),this.api.inlineToolbar.close())}wrap(e){var t,n,i,r;window.getSelection&&(t=window.getSelection()).rangeCount&&(n=t.getRangeAt(0),(i=document.createElement(this.tagName)).classList.add("ts-snippet"),i.classList.add("ts-snippet-"+e.index),i.dataset.name=e.name,i.dataset.description=e.description,i.dataset.category=e.category,i.dataset.origin=e.origin,i.dataset.colorDot=e.colorDot,r=n.extractContents(),i.appendChild(r),n.insertNode(i),this.api.selection.expandToTag(i))}surround(e){if(e){document.getElementsByClassName("ce-link-autocomplete__actions-wrapper")[0]&&!document.getElementsByClassName("ce-link-autocomplete__actions-wrapper")[0].classList.contains("ce-link-autocomplete__hidden")&&this.api.inlineToolbar.close(),this.toggleVisibility(this.nodes.actionsWrapper,!0);var t=this.nodes.toolButtonUnlink.classList.contains(this.api.styles.inlineToolButtonActive);if(this.selection.setFakeBackground(),this.selection.save(),t){var n=this.api.selection.findParentTag(this.tagName,"ts-snippet");this.unwrap(n),this.selection.restore,this.selection.removeFakeBackground(),this.api.inlineToolbar.close()}else this.toggleVisibility(this.nodes.inputWrapper,!0),this.nodes.inputField.focus()}}unwrap(e){this.api.selection.expandToTag(e);var t=window.getSelection(),n=t.getRangeAt(0),i=n.extractContents();e.parentNode.removeChild(e),n.insertNode(i),t.removeAllRanges(),t.addRange(n)}checkState(e){if(e.anchorNode){var t=this.selection.findParentTag(this.tagName);t&&(this.toggleVisibility(this.nodes.actionsWrapper,!0),this.nodes.linkDataName.innerText=t.dataset.name||"",this.nodes.linkDataDescription.innerText=t.dataset.category+" - "+t.dataset.origin||"",this.nodes.linkDataURL.innerText=t.href||"",this.nodes.linkDataURL.href=t.href||"",this.nodes.linkDataURL.target="_blank",(t.dataset.name||t.dataset.description)&&this.toggleVisibility(this.nodes.linkDataTitleWrapper,!0),this.toggleVisibility(this.nodes.linkDataWrapper,!0),this.toggleVisibility(this.nodes.toolButtonLink,!1),this.toggleVisibility(this.nodes.toolButtonUnlink,!0),this.nodes.toolButtonUnlink.classList.add(this.api.styles.inlineToolButtonActive))}}toggleVisibility(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.classList.toggle(u.CSS.hidden,!t)}searchRequest(e){var n=this;return l((function*(){if(n.isThereFilesToSearch){for(var i=[],r=function*(r){var o=n.filesToSearch[r];try{var s=yield fetch(o.path),a=(yield s.json()).filter((t=>{var n=new RegExp("^".concat(e),"gi"),i=!1;return o.propertiesToSearch.forEach((e=>{i=i||t[e].match(n)})),i}));i.push(a)}catch(e){t().show({message:"".concat(d,' "').concat(e.message,'"'),style:"error"})}},o=0;o<n.filesToSearch.length;o++)yield*r(o);return i}return[]}))()}get isThereFilesToSearch(){return!!this.filesToSearch}clear(){if(this.selection.isFakeBackgroundEnabled){var e=new a;e.save(),this.selection.restore(),this.selection.removeFakeBackground(),this.selection.clearSaved(),e.restore()}}}})(),i.default})()));